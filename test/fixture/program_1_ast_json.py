import pytest

@pytest.fixture # type: ignore
def program_example_1_ast_json() -> str:
    return r"""{"node": "program", "root": "definitions", "left": [{"node": "function_definition", "root": "main", "left": [null], "right": {"node": "statement", "root": "block", "left": [{"node": "statement", "root": "auto", "left": [{"node": "lvalue", "root": "j"}, {"node": "vector_lvalue", "root": "s", "left": {"node": "number_literal", "root": 20}}, {"node": "vector_lvalue", "root": "t", "left": {"node": "number_literal", "root": 20}}]}, {"node": "statement", "root": "rvalue", "left": [[{"node": "function_expression", "root": "reread", "left": {"node": "lvalue", "root": "reread"}, "right": [null]}], [{"node": "function_expression", "root": "getstr", "left": {"node": "lvalue", "root": "getstr"}, "right": [{"node": "lvalue", "root": "s"}]}], [{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "j"}, "right": {"node": "function_expression", "root": "getarg", "left": {"node": "lvalue", "root": "getarg"}, "right": [{"node": "lvalue", "root": "t"}, {"node": "lvalue", "root": "s"}, {"node": "number_literal", "root": 0}]}}], [{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "j"}, "right": {"node": "function_expression", "root": "getarg", "left": {"node": "lvalue", "root": "getarg"}, "right": [{"node": "lvalue", "root": "t"}, {"node": "lvalue", "root": "s"}, {"node": "lvalue", "root": "j"}]}}], [{"node": "function_expression", "root": "openr", "left": {"node": "lvalue", "root": "openr"}, "right": [{"node": "number_literal", "root": 5}, {"node": "lvalue", "root": "t"}]}], [{"node": "function_expression", "root": "getarg", "left": {"node": "lvalue", "root": "getarg"}, "right": [{"node": "lvalue", "root": "t"}, {"node": "lvalue", "root": "s"}, {"node": "lvalue", "root": "j"}]}], [{"node": "function_expression", "root": "openw", "left": {"node": "lvalue", "root": "openw"}, "right": [{"node": "number_literal", "root": 6}, {"node": "lvalue", "root": "t"}]}]]}, {"node": "statement", "root": "while", "left": {"node": "relation_expression", "root": ["!="], "left": {"node": "function_expression", "root": "putchar", "left": {"node": "lvalue", "root": "putchar"}, "right": [{"node": "function_expression", "root": "getchar", "left": {"node": "lvalue", "root": "getchar"}, "right": [null]}]}, "right": {"node": "constant_literal", "root": "*e"}}, "right": [{"node": "statement", "root": "rvalue", "left": [[]]}]}]}}, {"node": "function_definition", "root": "convert", "left": [{"node": "lvalue", "root": "s"}, {"node": "lvalue", "root": "v"}], "right": {"node": "statement", "root": "block", "left": [{"node": "statement", "root": "auto", "left": [{"node": "lvalue", "root": "m"}, {"node": "lvalue", "root": "i"}, {"node": "lvalue", "root": "j"}, {"node": "lvalue", "root": "c"}, {"node": "lvalue", "root": "sign"}]}, {"node": "statement", "root": "rvalue", "left": [[{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "i"}, "right": {"node": "lvalue", "root": "O"}}], [{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "j"}, "right": {"node": "unary_expression", "root": ["-"], "left": {"node": "number_literal", "root": 1}}}]]}, {"node": "statement", "root": "label", "left": ["init"]}, {"node": "statement", "root": "rvalue", "left": [[{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "m"}, "right": {"node": "number_literal", "root": 0}}], [{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "sign"}, "right": {"node": "number_literal", "root": 0}}]]}, {"node": "statement", "root": "label", "left": ["loop"]}, {"node": "statement", "root": "switch", "left": {"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "C"}, "right": {"node": "function_expression", "root": "char", "left": {"node": "lvalue", "root": "char"}, "right": [{"node": "lvalue", "root": "s"}, {"node": "pre_inc_dec_expression", "root": ["++"], "left": {"node": "lvalue", "root": "j"}}]}}, "right": [{"node": "statement", "root": "case", "left": {"node": "constant_literal", "root": "-"}, "right": [{"node": "statement", "root": "if", "left": {"node": "lvalue", "root": "sign"}, "right": [{"node": "statement", "root": "goto", "left": ["syntax"]}, null]}, {"node": "statement", "root": "rvalue", "left": [[{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "s"}, "right": {"node": "number_literal", "root": 1}}]]}]}, {"node": "statement", "root": "case", "left": {"node": "constant_literal", "root": "' '"}, "right": [{"node": "statement", "root": "goto", "left": ["loop"]}]}, {"node": "statement", "root": "case", "left": {"node": "constant_literal", "root": "*e"}, "right": []}, {"node": "statement", "root": "case", "left": {"node": "constant_literal", "root": ","}, "right": [{"node": "statement", "root": "rvalue", "left": [[{"node": "assignment_expression", "root": ["="], "left": {"node": "vector_lvalue", "root": "v", "left": {"node": "post_inc_dec_expression", "root": ["++"], "right": {"node": "lvalue", "root": "i"}}}, "right": {"node": "ternary_expression", "root": {"node": "lvalue", "root": "sign"}, "left": {"node": "evaluated_expression", "root": {"node": "unary_expression", "root": ["-"], "left": {"node": "lvalue", "root": "m"}}}, "right": {"node": "lvalue", "root": "m"}}}]]}, {"node": "statement", "root": "if", "left": {"node": "relation_expression", "root": ["=="], "left": {"node": "lvalue", "root": "c"}, "right": {"node": "constant_literal", "root": "*e"}}, "right": [{"node": "statement", "root": "return", "left": [{"node": "lvalue", "root": "i"}]}, null]}, {"node": "statement", "root": "goto", "left": ["init"]}]}]}, {"node": "statement", "root": "if", "left": {"node": "relation_expression", "root": ["<="], "left": {"node": "constant_literal", "root": "0"}, "right": {"node": "relation_expression", "root": ["&&"], "left": {"node": "lvalue", "root": "c"}, "right": {"node": "relation_expression", "root": ["<="], "left": {"node": "lvalue", "root": "c"}, "right": {"node": "constant_literal", "root": "9"}}}}, "right": [{"node": "statement", "root": "block", "left": [{"node": "statement", "root": "rvalue", "left": [[{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "m"}, "right": {"node": "relation_expression", "root": ["*"], "left": {"node": "number_literal", "root": 10}, "right": {"node": "relation_expression", "root": ["+"], "left": {"node": "lvalue", "root": "m"}, "right": {"node": "relation_expression", "root": ["-"], "left": {"node": "lvalue", "root": "c"}, "right": {"node": "constant_literal", "root": "0"}}}}}]]}, {"node": "statement", "root": "goto", "left": ["loop"]}]}, null]}, {"node": "statement", "root": "label", "left": ["syntax"]}, {"node": "statement", "root": "rvalue", "left": [[{"node": "function_expression", "root": "printf", "left": {"node": "lvalue", "root": "printf"}, "right": [{"node": "string_literal", "root": "\"bad syntax*n\""}]}]]}, {"node": "statement", "root": "return", "left": [{"node": "unary_expression", "root": ["-"], "left": {"node": "number_literal", "root": 1}}]}]}}]}"""

@pytest.fixture # type: ignore
def program_examle_1_ast_json_meta() -> str:
    return r"""{"node": "program", "root": "definitions", "left": [{"node": "function_definition", "root": "main", "_meta": {"line": 9, "start_pos": 211, "column": 1, "end_pos": 215, "end_column": 5}, "left": [null], "right": {"node": "statement", "root": "block", "left": []}}, {"node": "function_definition", "root": "char", "_meta": {"line": 21, "start_pos": 537, "column": 1, "end_pos": 541, "end_column": 5}, "left": [{"node": "lvalue", "root": "a", "_meta": {"line": 21, "start_pos": 542, "column": 6, "end_pos": 543, "end_column": 7}}, {"node": "lvalue", "root": "b", "_meta": {"line": 21, "start_pos": 544, "column": 8, "end_pos": 545, "end_column": 9}}], "right": {"node": "statement", "root": "block", "left": [{"node": "statement", "root": "return", "left": [{"node": "lvalue", "root": "a", "_meta": {"line": 22, "start_pos": 560, "column": 12, "end_pos": 561, "end_column": 13}}]}]}}, {"node": "function_definition", "root": "convert", "_meta": {"line": 32, "start_pos": 904, "column": 1, "end_pos": 911, "end_column": 8}, "left": [{"node": "lvalue", "root": "s", "_meta": {"line": 32, "start_pos": 912, "column": 9, "end_pos": 913, "end_column": 10}}, {"node": "lvalue", "root": "v", "_meta": {"line": 32, "start_pos": 914, "column": 11, "end_pos": 915, "end_column": 12}}], "right": {"node": "statement", "root": "block", "left": [{"node": "statement", "root": "auto", "left": [{"node": "lvalue", "root": "m", "_meta": {"line": 34, "start_pos": 928, "column": 9, "end_pos": 929, "end_column": 10}}, {"node": "lvalue", "root": "i", "_meta": {"line": 34, "start_pos": 930, "column": 11, "end_pos": 931, "end_column": 12}}, {"node": "lvalue", "root": "j", "_meta": {"line": 34, "start_pos": 932, "column": 13, "end_pos": 933, "end_column": 14}}, {"node": "lvalue", "root": "c", "_meta": {"line": 34, "start_pos": 934, "column": 15, "end_pos": 935, "end_column": 16}}, {"node": "lvalue", "root": "sign", "_meta": {"line": 34, "start_pos": 936, "column": 17, "end_pos": 940, "end_column": 21}}, {"node": "lvalue", "root": "C", "_meta": {"line": 34, "start_pos": 941, "column": 22, "end_pos": 942, "end_column": 23}}]}, {"node": "statement", "root": "rvalue", "left": [[{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "i", "_meta": {"line": 35, "start_pos": 947, "column": 4, "end_pos": 948, "end_column": 5}}, "right": {"node": "number_literal", "root": 0, "_meta": {"line": 35, "start_pos": 951, "column": 8, "end_pos": 952, "end_column": 9}}}], [{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "j", "_meta": {"line": 36, "start_pos": 957, "column": 4, "end_pos": 958, "end_column": 5}}, "right": {"node": "unary_expression", "root": ["-"], "left": {"node": "number_literal", "root": 1, "_meta": {"line": 36, "start_pos": 961, "column": 8, "end_pos": 962, "end_column": 9}}}}]]}, {"node": "statement", "root": "label", "_meta": {"line": 38, "start_pos": 965, "column": 1, "end_pos": 970, "end_column": 6}, "left": ["init"]}, {"node": "statement", "root": "rvalue", "left": [[{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "m", "_meta": {"line": 39, "start_pos": 1013, "column": 4, "end_pos": 1014, "end_column": 5}}, "right": {"node": "number_literal", "root": 0, "_meta": {"line": 39, "start_pos": 1017, "column": 8, "end_pos": 1018, "end_column": 9}}}], [{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "sign", "_meta": {"line": 40, "start_pos": 1047, "column": 4, "end_pos": 1051, "end_column": 8}}, "right": {"node": "number_literal", "root": 0, "_meta": {"line": 40, "start_pos": 1054, "column": 11, "end_pos": 1055, "end_column": 12}}}]]}, {"node": "statement", "root": "label", "_meta": {"line": 42, "start_pos": 1100, "column": 1, "end_pos": 1105, "end_column": 6}, "left": ["loop"]}, {"node": "statement", "root": "switch", "left": {"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "C", "_meta": {"line": 44, "start_pos": 1143, "column": 12, "end_pos": 1144, "end_column": 13}}, "right": {"node": "function_expression", "root": "char", "left": {"node": "lvalue", "root": "char", "_meta": {"line": 44, "start_pos": 1147, "column": 16, "end_pos": 1151, "end_column": 20}}, "right": [{"node": "lvalue", "root": "s", "_meta": {"line": 44, "start_pos": 1152, "column": 21, "end_pos": 1153, "end_column": 22}}, {"node": "pre_inc_dec_expression", "root": ["++"], "left": {"node": "lvalue", "root": "j", "_meta": {"line": 44, "start_pos": 1156, "column": 25, "end_pos": 1157, "end_column": 26}}}]}}, "right": [{"node": "statement", "root": "case", "left": {"node": "constant_literal", "root": "-", "_meta": {"line": 46, "start_pos": 1171, "column": 10, "end_pos": 1172, "end_column": 11}}, "right": [{"node": "statement", "root": "if", "left": {"node": "lvalue", "root": "sign", "_meta": {"line": 47, "start_pos": 1184, "column": 10, "end_pos": 1188, "end_column": 14}}, "right": [{"node": "statement", "root": "goto", "_meta": {"line": 47, "start_pos": 1195, "column": 21, "end_pos": 1201, "end_column": 27}, "left": ["syntax"]}, null]}, {"node": "statement", "root": "rvalue", "left": [[{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "s", "_meta": {"line": 48, "start_pos": 1208, "column": 6, "end_pos": 1209, "end_column": 7}}, "right": {"node": "number_literal", "root": 1, "_meta": {"line": 48, "start_pos": 1212, "column": 10, "end_pos": 1213, "end_column": 11}}}]]}]}, {"node": "statement", "root": "case", "left": {"node": "constant_literal", "root": "' '", "_meta": {"line": 50, "start_pos": 1224, "column": 9, "end_pos": 1227, "end_column": 12}}, "right": [{"node": "statement", "root": "goto", "_meta": {"line": 51, "start_pos": 1240, "column": 12, "end_pos": 1244, "end_column": 16}, "left": ["loop"]}]}, {"node": "statement", "root": "case", "left": {"node": "constant_literal", "root": "*e", "_meta": {"line": 53, "start_pos": 1258, "column": 12, "end_pos": 1259, "end_column": 13}}, "right": []}, {"node": "statement", "root": "case", "left": {"node": "constant_literal", "root": ",", "_meta": {"line": 54, "start_pos": 1271, "column": 10, "end_pos": 1272, "end_column": 11}}, "right": [{"node": "statement", "root": "rvalue", "left": [[{"node": "assignment_expression", "root": ["="], "left": {"node": "vector_lvalue", "root": "v", "left": {"node": "post_inc_dec_expression", "root": ["++"], "right": {"node": "lvalue", "root": "i", "_meta": {"line": 56, "start_pos": 1329, "column": 9, "end_pos": 1330, "end_column": 10}}}}, "right": {"node": "ternary_expression", "root": {"node": "lvalue", "root": "sign", "_meta": {"line": 56, "start_pos": 1336, "column": 16, "end_pos": 1340, "end_column": 20}}, "left": {"node": "evaluated_expression", "root": {"node": "unary_expression", "root": ["-"], "left": {"node": "lvalue", "root": "m", "_meta": {"line": 56, "start_pos": 1343, "column": 23, "end_pos": 1344, "end_column": 24}}}}, "right": {"node": "lvalue", "root": "m", "_meta": {"line": 56, "start_pos": 1346, "column": 26, "end_pos": 1347, "end_column": 27}}}}]]}, {"node": "statement", "root": "if", "left": {"node": "relation_expression", "root": ["=="], "left": {"node": "lvalue", "root": "c", "_meta": {"line": 57, "start_pos": 1359, "column": 11, "end_pos": 1360, "end_column": 12}}, "right": {"node": "constant_literal", "root": "*e", "_meta": {"line": 57, "start_pos": 1366, "column": 18, "end_pos": 1367, "end_column": 19}}}, "right": [{"node": "statement", "root": "return", "left": [{"node": "lvalue", "root": "i", "_meta": {"line": 57, "start_pos": 1378, "column": 30, "end_pos": 1379, "end_column": 31}}]}, null]}, {"node": "statement", "root": "goto", "_meta": {"line": 58, "start_pos": 1393, "column": 12, "end_pos": 1397, "end_column": 16}, "left": ["init"]}]}]}, {"node": "statement", "root": "if", "left": {"node": "relation_expression", "root": ["<="], "left": {"node": "constant_literal", "root": "0", "_meta": {"line": 63, "start_pos": 1475, "column": 10, "end_pos": 1476, "end_column": 11}}, "right": {"node": "relation_expression", "root": ["&&"], "left": {"node": "lvalue", "root": "c", "_meta": {"line": 63, "start_pos": 1481, "column": 16, "end_pos": 1482, "end_column": 17}}, "right": {"node": "relation_expression", "root": ["<="], "left": {"node": "lvalue", "root": "c", "_meta": {"line": 63, "start_pos": 1486, "column": 21, "end_pos": 1487, "end_column": 22}}, "right": {"node": "constant_literal", "root": "9", "_meta": {"line": 63, "start_pos": 1492, "column": 27, "end_pos": 1493, "end_column": 28}}}}}, "right": [{"node": "statement", "root": "block", "left": [{"node": "statement", "root": "rvalue", "left": [[{"node": "assignment_expression", "root": ["="], "left": {"node": "lvalue", "root": "m", "_meta": {"line": 64, "start_pos": 1504, "column": 7, "end_pos": 1505, "end_column": 8}}, "right": {"node": "relation_expression", "root": ["*"], "left": {"node": "number_literal", "root": 10, "_meta": {"line": 64, "start_pos": 1508, "column": 11, "end_pos": 1510, "end_column": 13}}, "right": {"node": "relation_expression", "root": ["+"], "left": {"node": "lvalue", "root": "m", "_meta": {"line": 64, "start_pos": 1511, "column": 14, "end_pos": 1512, "end_column": 15}}, "right": {"node": "relation_expression", "root": ["-"], "left": {"node": "lvalue", "root": "c", "_meta": {"line": 64, "start_pos": 1515, "column": 18, "end_pos": 1516, "end_column": 19}}, "right": {"node": "constant_literal", "root": "0", "_meta": {"line": 64, "start_pos": 1519, "column": 22, "end_pos": 1520, "end_column": 23}}}}}}]]}, {"node": "statement", "root": "goto", "_meta": {"line": 65, "start_pos": 1534, "column": 12, "end_pos": 1538, "end_column": 16}, "left": ["loop"]}]}, null]}, {"node": "statement", "root": "label", "_meta": {"line": 70, "start_pos": 1603, "column": 1, "end_pos": 1610, "end_column": 8}, "left": ["syntax"]}, {"node": "statement", "root": "rvalue", "left": [[{"node": "function_expression", "root": "printf", "left": {"node": "lvalue", "root": "printf", "_meta": {"line": 71, "start_pos": 1614, "column": 4, "end_pos": 1620, "end_column": 10}}, "right": [{"node": "string_literal", "root": "\"bad syntax*n\"", "_meta": {"line": 71, "start_pos": 1621, "column": 11, "end_pos": 1635, "end_column": 25}}]}]]}, {"node": "statement", "root": "return", "left": [{"node": "unary_expression", "root": ["-"], "left": {"node": "number_literal", "root": 1, "_meta": {"line": 72, "start_pos": 1649, "column": 12, "end_pos": 1650, "end_column": 13}}}]}]}}]"""